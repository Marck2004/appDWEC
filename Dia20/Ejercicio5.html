<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 5</title>
</head>
<body>
    <!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Ejercicio 4</title>
<script type="text/javascript">

    onload = ()=>{
        
        //1
        var contador = 0;
        [...document.getElementsByTagName("p")].forEach((parrafo)=>{
            contador += parrafo.getElementsByTagName("img").length;
        });

        //2
        //document.querySelectorAll("p img").length;
        
        //document.getElementsByTagName("select")[2].querySelectorAll("option").length;

        //3
        //document.querySelector(".clase4").querySelectorAll("p").length;

        //4
        //console.log(document.getElementsByTagName("table")[1].querySelectorAll("td,th").length);

        //5
        //console.log(document.querySelectorAll("p").length);
    
        //6
        //console.log(document.querySelector("[name=caja1]").value);

        //7
        //console.log(document.getElementById("parrafo1"));

        //8
        /*let buscar = prompt("Que etiqueta deseas eliminar");
        let veces = prompt("Cuantas veces");
        borrarElemento(buscar,veces);*/

        var boton = document.getElementById("anadir");
        boton.addEventListener("click",()=>{
            addDiv();
        })

        var boton2 = document.getElementsByTagName("button")[4].addEventListener("click",crearDiv2);
    }

    function addDiv(){
        let valor = document.getElementsByTagName("input")[0].value;
        if(valor.match(/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/)){
            let div = document.getElementById("publicidad");
                let img = document.createElement("img");
                div.style.width = "200px";
                div.style.height = "200px";
                img.style.width = "200px";
                img.style.height = "200px";
                img.src="mario.png";
                div.appendChild(img);
        }else{
            alert("URL invalida");
        }
    }

    function borrarElemento(etiqueta,numero){
        if(document.querySelector(etiqueta) == undefined){
            alert("No existe esa etiqueta");
        }else{
        for (let i = 0; i < numero-1; i++) {
            document.getElementsByTagName(etiqueta)[numero].remove();
            }
            
            
        }
        function crearDiv2(){
            let div = document.getElementById("cajaOcultar");
            if(div){
                div.style.display = "inline";
            }else{
            let capa = document.createElement("div");
            capa.style.width="300px";
            capa.style.height="300px";
            document.body.appendChild(div);
            let img = document.createElement("img");
            img.id = "cajaOcultar";
            img.src = "mario.png";
            div.appendChild(img);
            let enlace = document.createElement("a");
            enlace.innerHTML = "Cerrar";
            enlace.href = "javascript:ocultarCapa()";
            div.appendChild(enlace);
        }
        }
            function ocultarCapa(){
                document.getElementById("cajaOcultar").style.display = "none";

            }
    }

</script>
</head>
<div id="publicidad"></div>
<body>
<form>
<fieldset>
URL<input type=text><button type=button id=anadir>AÃ‘ADIR</button><button type=button id=cambiar>CAMBIAR</button>
</fieldset>
</form>
<form>
<fieldset>
<button type=button>BOTON 1</button>
<button type=button>BOTON 2</button>
</fieldset>
</form>

<p class=ejercicio4 id=parrafo1>Parrafo 1</p>
<select><option>Valor1</option><option>Valor2</option><option>Valor3</option><option>Valor4</option></select>
<table style="border: 2px black solid""><tr><td>Celda 1 tabla 1</td></tr></table><br>
<table style="border: 2px black solid""><tr><td>Celda 1 tabla 2</td><td>Celda 2 tabla 2</td></tr></table><br>
<table style="border: 2px black solid""><tr><td>Celda 1 tabla 3</td></tr></table><br>
<table style="border: 2px black solid""><tr><td>Celda 1 tabla 4</td></tr></table><br>
<table style="border: 2px black solid""><tr><td>Celda 1 tabla 5</td></tr></table><br>
<select><option>Valor1</option><option>Valor2</option><option>Valor3</option></select>
<img src="foto1.jpg" width=100 height=100>
<img src="foto1.jpg" width=100 height=100>
<img src="foto1.jpg" width=100 height=100>
<select><option>Valor1</option><option>Valor2</option><option>Valor3</option></select>
<p>Parrafo 2</p>
<p>Parrafo<img src="foto1.jpg" width=100 height=100> 3</p>
<p class=ejercicio4>Parrafo 4</p>
<p>Parrafo 5</p>
Caja 1<input type=text value=HOLA name=caja1>Radio 1 <input type=radio>Checkbox 1 <input type=checkbox><br>
Caja 2<input type=text>Radio 2 <input type=radio><input type=button><br>
Caja 3<input type=text>Radio 3 <input type=radio><br>
<select><option>Valor1</option><option>Valor2</option></select>
<div style="width:100;height:100">CAPA 1</div>
<div style="width:100;height:100">CAPA 2</div>
<div style="width:100;height:100">CAPA 3</div>
<div style="width:100;height:100">CAPA 4</div>
<div style="width:100;height:100">CAPA 5</div>
</body>
</html>
</body>
</html>